module Nulltest;

interface Integer {
  Int unwrap();
}

class Integer(Int i) implements Integer {
  Int unwrap() { return i; }
}

{
  Map<Object,Int> m = map[];
  
  Integer i1 = new Integer(1);

  m = put(m,null,0);
  m = put(m,i1,1);

  assert 0 == (case lookup(m,null) {  Just(x) => x });
  assert 1 == (case lookup(m,i1) {  Just(x) => x });


}
